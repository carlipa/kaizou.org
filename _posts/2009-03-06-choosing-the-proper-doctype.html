---
layout: post
title: Choosing the proper DOCTYPE
tags:
- doctype
- HTML
- strict
- transitional
- XHTML
status: publish
type: post
published: true
meta:
  _edit_last: '2'
---
<p>I have been recently asked to tell the differences between HTML 4.0, XHTML 1.0 and HTML 5.0, and I had to dig in the specifications to provide an answer. <!--more-->Doing this, I realized that I did not really pay attention to the DOCTYPE declarations in my web pages so far, possibly leading to unexpected behaviours in some browsers (see the very detailed article on Wikipedia about <a href="http://en.wikipedia.org/wiki/Quirks_mode" alt="Quirks mode">Quirks mode</a>).</p>
<p>To be short, HTML documents must start with a DOCTYPE declaration that is used by the browser to choose the appropriate rendering. It allows in particular to distinguish between real HTML documents and XHTML documents served as <code>text/html</code> to non-XHTML browsers (though required by the XHTML specification, the DOCTYPE declaration is actually redundant with the namepace declaration if the document is served as <code>application/xhtml+xml</code>).</p>
<p>The current HTML specification is <a href="http://www.w3.org/TR/html401/" alt="W3C HTML 4.01 specification">HTML 4.01</a> (1999). It defines three document types:</p>
<ul>
<li>HTML 4.01 strict, that relies entirely on CSS for presentation</li>
<li>HTML 4.01 transitional, that still allows <a href="/2009/03/differences-between-strict-transitional-xhtml/" alt="Differences between strict & transitional (X)HTML">deprecated presentational markup</a></li>
<li>HTML 4.01 frameset, that must only be used to declare framesets</li>
</ul>
<p>In a first attempt to replace HTML 4.01, the W3C has defined <a href="http://www.w3.org/TR/xhtml1/" alt="W3C XHTML 1.0 specification">XHTML 1.0</a> (2000-2002), that redefines HTML 4.01 using a strict XML syntax. Unsurprisingly, XHTML 1.0 also defines three document types:</p>
<ul>
<li>XHTML 1.0 strict, that is exactly HTML 4.01 strict with closing tags,</li>
<li>XHTML 1.0 transitional, that is exactly HTML 4.01 transitional with closing tags,</li>
<li>XHTML 1.0 frameset, that must only be used to declare framesets.</li>
</ul> 
<p>In a later standardization effort, the W3C produced <a href="http://www.w3.org/TR/xhtml11/" alt="W3C XHTML 1.1 Working Draft">XHTML 1.1</a> (WIP), that doesn't add much, but defines only a strict DOCTYPE. It is no offense to the promoters of XHML 1.1 to say that it hasn't yet been widely adopted (and to be honest it will probably go to oblivion soon since HTML 5 is on its way).</p>
<p>The upcoming <a href="http://www.w3.org/TR/html5/" alt="HTML 5 specification" >HTML 5 specification</a> takes a different approach and uses a single DOCTYPE for both HTML and XHTML documents (the DOCTYPE is optional for XHTML documents because it is redundant with their mime-type information: application/xhtml+xml). 
<p>To summarize, when developing a new page, the first thing you need to decide is if you want it to be HTML 5 or not.</p><p>If you go for HTML 5, then it is pretty straightforward: just add the following line at the top of your file:</p>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;</pre>
<p>If you want to address the legacy browsers, or if for any other reason you don't want to use HTML 5, then you need to decide whether you are going to use HTML or XHTML. My recommendation is to always choose HTML unless you really need XHTML (for instance because you want to add <a href="/2009/02/svg-inline-in-xhtml/" alt="SVG inline in XHTML">inline SVG</a>).</p>
<p>Then, in both cases, unless you really need to use the <a href="http://www.kaizou.org/2009/03/differences-between-strict-transitional-xhtml/" alt="Differences between strict & transitional (X)HTML">deprecated HTML syntax</a>, use the strict DOCTYPE.</p>
<h3>HTML</h3>
<pre class="prettyprint">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;</pre>
<h3>XHTML</h3>
<p><pre class="prettyprint">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.1//EN&quot; &quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&gt;</pre></p>
<p>Please note that according to the W3C XHTML guidelines, the XML declaration (<code><?xml version="1.0" encoding="UTF-8"?></code>) should be omitted, as it triggers quirks mode in older versions of Internet Explorer. This is only a problem if you need to specify a different character encoding than UTF-8 (the default).</p>
